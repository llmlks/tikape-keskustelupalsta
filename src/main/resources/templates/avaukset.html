<!DOCTYPE html SYSTEM "http://www.thymeleaf.org/dtd/xhtml1-strict-thymeleaf-4.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

    <head>
        <title th:text="${keskustelualue.nimi}">Keskustelualue</title>
        <meta charset="utf-8" />
    </head>

    <body>
        <h2>
            Aiheen <i><span th:text="${keskustelualue.nimi}">Keskustelualue</span></i> keskustelunavaukset
        </h2>
        <table>
            <tr>
                <th>Keskustelunavaus</th>
                <th>Viestejä</th>
                <th>Viimeisin viesti</th>
            </tr>
            <tr th:each="keskustelunavaus: ${keskustelunavaukset}">
                <td>
                    <a th:href="@{~/avaus/{id}(id=${keskustelunavaus.id})}" th:text="${keskustelunavaus.nimi}"></a> 
                </td>
                <td>
                    <span th:text="${keskustelunavaus.viestit}">viestit</span>
                </td>
                <td>
                    <span th:text="${keskustelunavaus.viimeisin}">viimeisin</span>
                </td>
            </tr>
           
        </table>


        <h2>Luo uusi keskustelunavaus</h2>

        <form method="POST" th:action="@{~/alue/{id}/avaus(id=${keskustelualue.id})}">
            <textarea name="name" rows="1" cols="75" maxlength="75">Keskustelunavauksen nimi</textarea><br />
            <textarea name="viesti" rows="5" cols="80" maxlength="1000">Avausviesti</textarea><br />
            <input type="text" value="Nimimerkki" name="nimimerkki" />
            <input type="submit" value="Lisää!"/>
        </form>

        <p><button onclick="goBack()">Takaisin</button>

            <script>
                function goBack() {
                    window.history.back();
                }
            </script></p>

    </body>
</html>